# `git merge` 游

**칈NDICE**

1. [`git merge`](#merge)
2. [Formas de _mergear_ (`--ff` & `--no-ff`)](#ff)
3. [Conflictos](#conflictos)
4. [Buenas pr치cticas _mergeando_](#practica)
5. [`git --graph`](#graph)

# 1. `git merge`<a name='merge'></a>

- Es para fusionar los cambios de dos ramas.
- Para ser exactos , une los hist칩ricos de dos ramas

# 2. Formas de _mergear_ (`--ff` & `--no-ff`)<a name='ff'></a>

- Hay dos formas de hacer un merge:
  1.  Guardando el hist칩rico de la rama --> **_no-fast-forward_**
      - ### `git merge --no-ff`
      - Crea un _commit_ nuevo, guardando el historio de la segunda rama (pudiendo volver si hace falta)
      - ![[no-ff-ex.png]]
  2.  No guardadndo el hist칩rico (opci칩n por defecto) --> **_fast-forward_**
      - ### `git merge --ff`
        - ### `git merge`
      - Une las dos ramas sin crear ningun _commit_ intermedio y elimina la segunda rama (_feature_) ya los _commits_ est치n en _main_.

# 3. Conflictos<a name='conflictos'></a>

- Ocurren cuando dos ramas mergean cambios en los mismos ficheros de _main_.
- **_Git_** no sabe qu칠 cambios unificar y ocurren conflictos.

## 3.1. Arreglar conflictos

- Hay que cambiar uno de los cambios.
- El conflicto se ve as칤:

  - <u>Ejemplo:</u>
    - Antes del `======` es el c칩digo de _main_.
    ```bash
    here말s맙ome맊ontent맕ot마ffected막y맚he맊onflict
    <<<<<<<맔ain
    this말s맊onflicted맚ext맍rom맔ain
    =======
    this말s맊onflicted맚ext맍rom맍eature막ranch
    >>>>>>>맍eature막ranch;
    ```

- `git merge --abort` --> reconstruye el estado anterior siempre que haya un _commit_ previo al _merge_.

> ### Para **evitar congflicto** es recomendable **actualizar**, hacer `git pull` en la rama final.

# 4. Buenas practicas _mergeando_ <a name='practica'></a>

1. git status --> comprobar que estamos en **_HEAD_**.
   - Si no, ir a _main_.
2. `git fetch` --> para traer los 칰ltimos _commits_.
3. `git pull` --> traer cambios a local (para evitar conflictos)
4. `git merge` --> siempre desde la rama donde queremos los cambios unidos.

# 5. `git --graph` <a name='graph'></a>

- Al hacer `git commit` en otra rama, se forma un hist칩rico en esa rama.
- Siempre que se haga `git merge --no-ff` se podr치n ver los historicos con.
- Tambi칠n se puede ver si la rama aun no est치 mergeada, pero se ha hecho un `git fetch`
