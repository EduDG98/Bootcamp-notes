# git commit üì¶

**√çNDICE**

1. [¬øQu√© es un _commit_](#commit)
2. [Crear un _commit_](#crear)
   1. [Sobreescribir el √∫ltimo _commit_](#amend)
3. [Ver todos los _commits_](#log)
   1. [Ver los cambios hechos entre _commits_](#diff)
4. [Revertir un _commit_](#revert)
5. [Eliminar un _commit_](#reset)
6. [Buenas pr√°cticas con _commit_](#buenas)
7. [`git tag`](#tag)

# ¬øQu√© es un _commit_?<a name='commit'></a>

- Es un estado que guarda los cambios.
- Al hacer varios se crea un _hist√≥rico_.
-

# Crear un _commit_<a name='crear'></a>

- ### `git commit`
- Se le puede a√±adir un mensaje a modo de descripci√≥n:
- ### `git commit -m 'mensaje sobre el commit'`

## Sobreescribir el √∫ltimo _commit_<a name='amend'></a>

- El √∫ltimo _commit_ se llama **_HEAD_**.
- Se puede sobreescribir el **_HEAD_** con:
  - ### `git commit  --amend`
    > Despu√©s de sobreescribir es necesario hacer un `git push --force`

# Ver todos los commits<a name='log'></a>

- ### `git log`
  - ##### `git log --oneline`
  - `git log <branch_1>..<branch_2>` --> ense√±a los commit nuevos en la _branch2_ que no est√°n en la _branch1_

## Ver cambios hechos entre los √∫ltimos _commits_<a name='diff'></a>

- Los cambios que se guardan al hacer un _commit_ es respecto al **_HEAD_** _commit_.
- ### `git diff`
  -` git diff <branch_1>..<branch_2>  <path/to/file>` --> ver el mismo archivo entre dos ramas. - `git diff <branch_1>..<branch_2> -stat` --> ver solo los archivos cambiados pero no los cambios.

# Revertir un _commit_<a name='revert'></a>

- Volver a un _commit_ anterior (√≥ **_HEAD_**) tras un error se usa:
  - ### `git revert HEAD`
- El `revert` **no** elimina el √∫ltimo _commit_ que queremos revertir, tampoco mueve el puntero del **_HEAD_** hacia atr√°s, sino que crea un _commit_ nuevo en el que los cambios se revierten (Ese nuevo _commit_ queda registrado como **_Revert_** y se convierte en el nuevo _HEAD_)
  - ### `git revert HEAD~n`
    - donde _n_ es un n√∫mero que dice cuantos commits atras quieres revertir.

# Eliminar el √∫ltimo _commit_<a name='reset'></a>

- Para eliminar el √∫ltimo _commit_ :
  - ##### `git reset`
- Otras variantes son:
  - `git reset HEAD~n` --> eliminar _n_ _commits_ hacia atr√°s.
  - `git reset --mixed` --> ((opci√≥n por defecto) elimina el _commit_ y los cambios los deja en el **_STAYING_**.
  - `git reset --hard` --> elimina los commits y cambios.
  - `git reset  --soft` --> elimina los commits y los cambios los deja en el **_WD_**.

# Buenas pr√°cticas con _commit_<a name='buenas'></a>

- Se recomienda hacer `git commit` sin el `-m`
- Forma del mensaje de los _commits_
  1.  Primera l√≠nea es el **t√≠tulo**, sin punto final.
  2.  Dejar una l√≠nea de espacio.
  3.  Decir el qu√© y/o por qu√© el cambio.

# `git tag`<a name='tag'></a>

- Los _commits_ se guardan con un c√≥digo de letras y n√∫meros.
- Se ponen en los _commits_ de la rama _main_.
- Para identificarlos mejor, se le a√±ade una etiqueta con `git tag`
  - Normalmente se pone la versi√≥n de nuestro proyecto.

## Versionado sem√°ntico

- 1.0.1.1
  - 1¬∫ d√≠gito: cambios mayores.
  - 2¬∫ d√≠gito: cambios menores.
  - 3¬∫ y 4¬∫ d√≠gitos: parches.
